<?php

//input lead id
/*
==========================================HOME==================================
NEW LIVE
********************************************
world(137)
sport(139)
delhi(138)
==========================================INDIA==================================
BHARAT
**********************************************************
India - Lead News(270)
India - Main News(271)
------------------------------
India - Slideshow(498)
-------------------------------
India - Uttar Pradesh Lead(353)
India - Uttar Pradesh Main(354)
India - Uttar Pradesh Listing Page(227)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page' 
------------------------------------------------------------------------------
India - Bengaluru Lead(391)
India - Bengaluru Main(390)
India - Bengaluru Listing Page(437)
raggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_15' 
-----------------------------------------------------------------------------------------
India - Chennai Lead(382)
India - Chennai Main(383)
India - Chennai Listing Page(242)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_11' 
-----------------------------------------------------------------------------------------------------
India - Lucknow Lead(387)
India - Lucknow Main(386)
India - Lucknow Listing Page(246)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_13' 
-------------------------------------------------------------------------------------------------------
India - Delhi Lead(380)
India - Delhi Main(381)
India - Delhi Listing Page(240)
 draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_10' 
----------------------------------------------------------------------------------------------
India - Chhatishgarh Lead(359)
India - Chhatishgarh Main(358)
India - Chhattisgarh Listing Page(232)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_3' 
-------------------------------------------------------------------------------------------------
India - Madhya Pradesh Lead(365)
India - Madhya Pradesh Main(366)
India - Madhya Pradesh Listing Page(231)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_4' 
--------------------------------------------------------------------------------------------------
India - India - Bihar Lead(360)
India - India -  Bihar Main(361)
India - India - Bihar Listing Page(410)
-----------------------------------------------------------------------------------------------
India - Jharkhand Lead(357)
India - Jharkhand Main(356)
India - Jharkhand Listing Page(229)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_2' 
-------------------------------------------------------------------------------------
India - Punjab Lead(372)
India - Punjab Main(371)
India - Punjab Listing Page(236)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_9'
------------------------------------------------------------------------------------------
India - Maharashtra Lead(368)
India - Maharashtra Main(367)
India - Maharashtra Listing Page(234)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_7' 
------------------------------------------------------------------------------------------------------------------------------
India - Uttarakhand Lead(370)
India - Uttarakhand Main(369)
India - Uttarakhand Listing Page(235)
 draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_6' 
-------------------------------------------------------------------------------------------------------------
India - Rajasthan Lead(364)
India - Rajasthan Main(362)
India - Rajasthan Listing Page(233)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_5' 
---------------------------------------------------------------------
India - Mumbai Lead(388)
India - Mumbai Main(389)
India - Mumbai Listing Page(247)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_14' 
----------------------------------------------------------------------------------------------------
India - Other states Lead(374)
India - Other states Main(373)

India - Others States Listing Page(237)
 draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_8' 
-------------------------------------------------------------------------------------------------------

India - Patna Lead(394)
India - Patna Main(395)
India - Patna Listing Page(209)
draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_17'
----------------------------------------------------------------------------------------------------------
India - Kolkata Lead(384)
India - Kolkata Main(385)
India - Kolkata Listing Page(241)
 draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_12' 
------------------------------------------------------------------------------------------------
India - Other News Lead(401)
India - Other News Main(400)
India - other news Listing Page(497)
 draggableviews_structure.view_name = 'bihar_listing_page' AND draggableviews_structure.view_display = 'page_18' 

================================SPORTS=====================================
Sports - Cricket Lead(349)
Sports - Cricket Main(351)
Cricket Listing Page(343)
-------------------------------
Sports - Football Lead(404)
Sports - Football Main(379)
Football Listing Page(262)
-----------------------------------
Sports - Hockey Lead(405)
Sports - Hockey Main(378)
Hockey Listing Page(260)
---------------------------------------
Sports - Tennis Lead(348)
Sports - Tennis Main(350)
Tennis Listing Page(253)
------------------------------------------
Sports - Other Sports block(263)
Sports Video(284)
Sports Slideshow(467)
----------------------------------------------
================================WORLD=====================================
World Lead News(274)
World Main News(275)
------------------------------
World - Neighbouring countries lead(276)
World - Neighbouring countries main(363)
Neighbouring Countries Listing Page(396)
------------------------------------------------
World - America Lead(280)
World - America Main(377)
America Listing Page(397)
--------------------------------------------------
World - Europe Lead(445)
World - Europe Main(446)
Europe Listing Page(442)
----------------------------------
World- Rest of the world Lead(466)
World- Rest of the world Main(448)
World- Rest of the world list(398)
------------------------------------
World Slideshow(291)
World Video(266)
----------------------------------------------
================================BOLLYWOOD============(2)=========================
Bollywood - Filmi Reviews(470)
Filmi Reviews Listing Page(315)
----------------------------------------------
Bollywood - Filmi Khabre(469)
Filmi Khabre Listing Page(316)
------------------------------------------
Bollywood - Filmi Gossip(302)
Filmi Gossip Listing Page(317)
---------------------------------
Bollywood - Chhota Parda(471)
Chhota Parda Listing Page(318)
---------------------------------------
//Bollywood - Filmi Interview(468)
//Filmi Interview Listing Page(319)
-----------------------------------
Bollywood Slideshow(310)
//Bollywood video(301)
------------------------------------------------------------
================================BUSINESS============(3)=========================
Business Lead News(248)
Business Main News(249)
------------------------------------
Business Others News(250)
Business slideshow(1404)
business video(289)
------------------------------------------------------------
================================Tech============(1)=========================
Tach main News(267)
Tech other News(268)
Tech Slideshow(334)
//Tech Video(269)
------------------------------------------------------------
================================life-style============(1,2)=========================

Lifestyle Slideshow(460)
---------------------------------------
Lifestyle - Expert Recommendations(464)
Lifestyle - Expert Recommendations listing(281)
------------------------------------------
Lifestyle - Lifestyle(461)
Lifestyle - Lifestyle listing(278)
-------------------------------------
Lifestyle - Sex and Relationships(463)
Lifestyle - Sex and Relationships listing(279)
---------------------------------------------
Lifestyle - Health and Fitness(465)
Lifestyle - Health and Fitness listing(283)
-------------------------------------------
Lifestyle- Yog Nirog(488)
Lifestyle- Yog Nirog listing(313)
==============================================================
=================================================Astrology================
Astrology-daily(322)
Astrology-monthly(323)
Astrology-yearly(324)
Astrology-Dharm-aadhyatama(325)
Astrology-mystery(326)
Astrology-vastushastra(327)
Astrology- photos(321)
==============================================================
===================================INDEPTH========================

-------------------------------------------------------------
Indepth Slideshow(174)
----------------------------------
Indepth - Politics(415)
Indepth - Politics listing (256)
----------------------------------
Indepth - Art and Culture(424)
Indepth - Art and Culture listing (1755)
--------------------------------------
Indepth - Literature(417)
Indepth - Literature listing(314)
-----------------------------------------
Indepth - Controversy(416)
Indepth - Controversy listing(258)
=========================================she-corner=============(1)========================
She Corner- My View(450)
She Corner- My View list(184)
------------------------
She Corner- Beauty Tips(451)
She Corner- Beauty Tips list(181)
----------------------------------
She Corner- Uljhan Suljhan(452)
She Corner- Uljhan Suljhan(182)
-------------------------------------
She Corner- Style Funda(453)
She Corner- Style Funda(183)
---------------------------------------
She Corner- Slideshow(449)
-----------------------------------
//She Corner- Video(297)
----------------------------------------
======================================Career=======================================
Career Slideshow(454)
------------------------------
Career Video(298)
------------------------
Career - Expert Views block(220)
---------------------------------------
Career - News block(219)
-------------------------------------------
==========================================Teen-world============(1)==============================
Teen World Slideshow(186)
//Teen world Video(455)

Teen world - Crime diary block(459)
//Teen world - Crime diary block list(190) 

---------------------------------------------
Teen world - Dating tips block(456)
//Teen world - Dating tips block list(187)

---------------------------------------------------
Teen world - My problem block(458)
//Teen world - My problem block list (188)


-----------------------------------------
Teen world - Trending hot block(457)
//Teen world - Trending hot block list (189)



--------------------------------------------------------------------------------------------
=========================================PROPERTY==================================================
Property Lead News(475)
Property Main News(476)
Property other News(304)


-------------------------------------------------------------------------------------------
=========================================PHOTO Gallery==================================================
Bharat(518)
Sport(521)
Duniya(1379)
Bollywood(522)
Business(523)
Tech(1409)
Auto(1387)
Lifestyle(1382)
she-corner(1384)
OMG(1931)



*/
/*
function gettotalrecord(){
$total_record=$total_record;
}*/

function getMainIDlist($tid)
	{
	
	switch ($tid) {
    case 270:
     return 271 ;
    break;
		
	case 353:
      return  354;
     break;
	 
	  case 357:
      return  356;
     break;
	 
	 case 359:
      return 358;
     break;
	 
	 case 360:
      return  361;
     break;
	 
	 case 364:
      return  362;
     break;
	 
	 case 365:
      return  366;
     break;
	 
	 case 368:
      return  367;
     break;
	 
	 case 370:
      return  369;
     break;
	 
	 case 372:
      return  371;
     break;
	 
	 case 374:
      return  373;
     break;
	 
	 case 380:
      return  381;
     break;
	 
	 case 382:
      return  383;
     break;
	 
	 case 384:
      return  385;
     break;
	 
	 case 387:
      return  386;
     break;
	 
	 case 388:
      return  389;
     break;
	 
	 case 391:
      return  390;
     break;
	 
	  case 392:
      return  393;
     break;
	 
	  case 394:
      return  395;
     break;
	 
	  case 401:
      return 400 ;
     break;
	 
	  case 498:
      return  ;
     break;
	 
	 
	 //sports
	 case 349:
      return 351 ;
     break;
	 
	 case 404:
      return  379;
     break;
	 
	 case 405:
      return  378;
     break;
	 
	 case 348:
      return 350 ;
     break;
	 
	 case 263:
      return  ;
     break;
	 
	 case 284:
      return  ;
     break;
	 
	 
	 case 467:
      return  ;
     break;
	 
	 //world
	 case 274:
      return 275 ;
     break;
	 
	 case 466:
      return 448 ;
     break;
	 
	 case 276:
      return 363 ;
     break;
	 
	 case 280:
      return  377;
     break;
	 
	 case 445:
      return  446;
     break;
	 
	  case 291:
      return  ;
     break;
	 
	 case 266:
      return  ;
     break;
	
//BOLLYWOOD 
	  case 470:
      return  ;
     break;
	 
	 case 469:
      return  ;
     break;
	 
	  case 302:
      return  ;
     break;
	 
	 case 471:
      return  ;
     break;
	 
	 case 468:
      return  ;
     break;
	 
	 case 310:
      return  ;
     break;
	 
	  case 301:
      return  ;
     break;
	 
 //BUSINESS
	 case 248:
      return  249;
     break;
	 
	  case 250:
      return  ;
     break;
	 
	 case 1404:
      return  ;
     break;
	 
	  case 289:
      return  ;
     break;

///Tech	 	 
	 case 267:
      return  ;
     break;
	 
	 case 268:
      return  ;
     break;
	 
	 case 334:
      return  ;
     break;
	 
	  case 269:
      return  ;
     break;
	
//life-style
	  case 461:
      return  ;
     break;
	 
	 case 464:
      return  ;
     break;
	 
	 case 463:
      return  ;
     break;
	 
	 case 465:
      return  ;
     break;
	 
	 case 488:
      return 488 ;
     break;
	 
	  case 460:
      return  ;
     break;
	 
	 case 300:
      return  ;
     break;
	 
//Astrology	 	
	 case 322:
      return  ;
     break;
	 
	  case 325:
      return  ;
     break;
	 
/*	 case 323:
      return  ;
     break;
	 
	  case 324:
      return  ;
     break;*/
	 
	 case 326:
      return  ;
     break;
	 
	  case 327:
      return  ;
     break;
	 
	 case 321:
      return  ;
     break;
	 
//INDEPTH	 
	 case 174:
      return  ;
     break;
	 
	  case 290:
      return  ;
     break;
	 
	 case 415:
      return  ;
     break;
	 
	 case 424:
      return  ;
     break;
	 
	 case 417:
      return  ;
     break;
	 
	  case 416:
      return  ;
     break;	 
	 
//she-corner
	 case 450:
      return  ;
     break;
	 
	 case 451:
      return  ;
     break;
	 
	  case 452:
      return  ;
     break;
	 
	 case 453:
      return  ;
     break;
	 
	  case 449:
      return  ;
     break;
	 
	 case 297:
      return  ;
     break;

//Career
	 
	 case 454:
      return  ;
     break;
	 
	  case 298:
      return  ;
     break;
	 
	 case 220:
      return  ;
     break;
	 
	  case 219:
      return  ;
     break;

//Teen-world	 
	  case 186:
      return  ;
     break;
	 
	 case 455:
      return  ;
     break;
	 
	 case 456:
      return  ;
     break;
	 
	 case 457:
      return  ;
     break;
	 
	  case 458:
      return  ;
     break;
	 
	 case 459:
      return  ;
     break;

//PROPERTY	 
	 case 475:
      return 476 ;
     break;
	 
	 case 304:
      return  ;
     break;
	 
//Phtogallery	 
	 case 518:
      return  ;
     break;
	 
	 case 521:
      return  ;
     break;
	 
	 case 1379:
      return  ;
     break;
	 
	 case 522:
      return  ;
     break;
	 
	 case 523:
      return  ;
     break;
	 
	 case 1387:
      return  ;
     break;
	 
	 case 1931:
      return  ;
     break;
	 
	 case 1409:
      return  ;
     break;
	 
	 case 1382:
      return  ;
     break;
	 
	 case 1384:
      return  ;
     break;
	 
	 //Breaking news
	case 137:
      return  ;
     break;	 
	 
	 case 138:
      return  ;
     break;	 
	 
	 case 139:
      return  ;
     break;	 
	 
	 
	  
		
		
    
}
}

//Return list Id
	function getListID($tid)
	{
	switch ($tid) {
    case 270:
       return ;
        break;
	
	case 353:
       return 227;
        break;
		
	case 357:
      return  229;
     break;
	 
	 case 359:
      return 232;
     break;
	 
	 case 360:
      return  410;
     break;
	 
	 case 364:
      return  233;
     break;
	 
	 case 365:
      return  231;
     break;
	 
	 case 368:
      return  234;
     break;
	 
	 case 370:
      return  235;
     break;
	 
	 case 372:
      return  236;
     break;
	 
	 case 374:
      return  237;
     break;
	 
	 case 380:
      return  240;
     break;
	 
	 case 382:
      return  242;
     break;
	 
	 case 384:
      return  241;
     break;
	 
	 case 387:
      return  246;
     break;
	 
	 case 388:
      return  247;
     break;
	 
	 case 391:
      return  437;
     break;
	 
	  case 392:
      return  244;
     break;
	 
	  case 394:
      return  209;
     break;
	 
	  case 401:
      return  497;
     break;
	 
	 case 498:
      return  ;
     break;
	 
	 
	 //sports
	 case 349:
      return 343 ;
     break;
	 
	 case 404:
      return  262;
     break;
	 
	 case 405:
      return 260 ;
     break;
	 
	 case 348:
      return  253;
     break;
	 
	 case 263:
      return  ;
     break;
	 
	 
	 case 284:
      return  ;
     break;
	 
	 case 467:
      return  ;
     break;
	 
	 //world
	 case 274:
      return  ;
     break;
	 
	  case 466:
      return  398;
     break;
	 
	 case 276:
      return  396;
     break;
	 
	 case 280:
      return  397;
     break;
	 
	 case 445:
      return  442;
     break;
	 
	 case 291:
      return  ;
     break;
	 
	  case 266:
      return  ;
     break;
	 
	 //BOLLYWOOD
	 case 470:
      return  315;
     break;
	 
	  case 469:
      return  316;
     break;
	 
	 case 302:
      return 317 ;
     break;
	 
	  case 471:
      return  318;
     break;
	 
	 case 468:
      return  319;
     break;
	 
	 case 310:
      return  ;
     break;
	 
	 case 301:
      return  ;
     break;
	 
	/* case 315 :
      return  315;
     break;
	 
	  case 316 :
      return  316;
     break;
	 
	 case 317 :
      return  317;
     break;
	 
	  case 318 :
      return  318;
     break;
	 
	 case 319:
      return  319;
     break;
	 
	 case 310:
      return  ;
     break;
	 
	 case 301:
      return  ;
     break;*/

//BUSINESS	 
	  case 248:
      return  ;
     break;
	 
	 case 250:
      return  ;
     break;
	 
	  case 1404:
      return  ;
     break;
	 
	 case 289:
      return  ;
     break;
///Tech	 
 case 267:
      return  ;
     break;
	 
	 case 268:
      return  ;
     break;
	 
	 case 334:
      return  ;
     break;
	 
	  case 269:
      return  ;
     break;
	 
//life-style
	  case 461:
      return 278 ;
     break;
	 
	 case 464:
      return  281;
     break;
	 
	 case 463:
      return  279;
     break;
	 
	 case 465:
      return  283;
     break;
	 
	 case 488:
      return 313 ;
     break;
	 
	  case 460:
      return  ;
     break;
	 
	 case 300:
      return  ;
     break;

//Astrology	 	
	 case 322:
      return  ;
     break;
	 
	  case 325:
      return  ;
     break;
	 
	/* case 323:
      return  ;
     break;
	 
	  case 324:
      return  ;
     break;*/
	 
	 case 326:
      return  ;
     break;
	 
	  case 327:
      return  ;
     break;
	 
	 case 321:
      return  ;
     break;	 

//INDEPTH	 
	 case 174:
      return  ;
     break;
	 
	  case 290:
      return  ;
     break;
	 
	  case 415:
      return 256 ;
     break;
	 
	 case 424:
      return 1755 ;
     break;
	 
	 case 417:
      return  314;
     break;
	 
	  case 416:
      return  258;
     break;

//she-corner
	 case 450:
      return 184;
     break;
	 
	 case 451:
      return  181;
     break;
	 
	  case 452:
      return 182 ;
     break;
	 
	 case 453:
      return 183 ;
     break;
	 
	  case 449:
      return  ;
     break;
	 
	 case 297:
      return  ;
     break;
	 
//Career
	 
	 case 454:
      return  ;
     break;
	 
	  case 298:
      return  ;
     break;
	 
	 case 220:
      return  ;
     break;
	 
	  case 219:
      return  ;
     break;

//Teen-world	 
	  case 186:
      return  ;
     break;
	 
	 case 455:
      return  ;
     break;
	 
	 case 456:
      return 187 ;
     break;
	 
	 case 457:
      return 189 ;
     break;
	 
	  case 458:
      return  188;
     break;
	 
	 case 459:
      return  190;
     break;
	 
//PROPERTY	 
	 case 475:
      return  ;
     break;
	 
	 case 304:
      return  ;
     break;

//Phtogallery	 
	 case 518:
      return  ;
     break;
	 
	 case 521:
      return  ;
     break;
	 
	 case 1379:
      return  ;
     break;
	 
	 case 522:
      return  ;
     break;
	 
	 case 523:
      return  ;
     break;
	 
	 case 1387:
      return  ;
     break;
	 
	 case 1931:
      return  ;
     break;
	 
	 case 1409:
      return  ;
     break;
	 
	 case 1382:
      return  ;
     break;
	 
	 case 1384:
      return  ;
     break;	 
	//Breaking news
	case 137:
      return  ;
     break;	 
	 
	 case 138:
      return  ;
     break;	 
	 
	 case 139:
      return  ;
     break;	 
	 
	}
}




//Return display page for list Id
	function getviewdisplay($tid)
	{
	switch ($tid) {
    
	
	case 353:
      return  'page' ;
     break;
	 
	  case 357:
      return  'page_2' ;
     break;
	 
	 case 359:
      return 'page_3';
     break;
	 
	/* case 360:
      return  361;
     break;*/
	 
	 case 364:
      return  'page_5' ;
     break;
	 
	 case 365:
      return  'page_4' ;
     break;
	 
	 case 368:
      return  'page_7' ;
     break;
	 
	 case 370:
      return  'page_6' ;
     break;
	 
	 case 372:
      return  'page_9';
     break;
	 
	 case 374:
      return  'page_8' ;
     break;
	 
	 case 380:
      return  'page_10';
     break;
	 
	 case 382:
      return  'page_11';
     break;
	 
	 case 384:
      return   'page_12' ;
     break;
	 
	 case 387:
      return  'page_13';
     break;
	 
	 case 388:
      return  'page_14';
     break;
	 
	 case 391:
      return  'page_15';
     break;
	 
	/*  case 392:
      return  393;
     break;*/
	 
	  case 394:
      return  'page_17';
     break;
	 
	  case 401:
      return 'page_18'  ;
     break;
	 
	/*  case 498:
      return  ;
     break;*/
	 
	 }
	}
	
	function getRelationalNewsTids( $tid ) {
		$arrRelationalTids = array(
			4 	=> array( 145 ),
			302	=> array( 302, 468, 469, 470, 471 ),

		);
		return ( true == array_key_exists( $tid, $arrRelationalTids ) ) 
			? 
				$arrRelationalTids[$tid] 
			: 
				array();
	}

//Return home page box news based on tid
function getNewslist( $tid, $page, $per_page ) {

	$obj = new connection();

	//First Query for get Lead News
	//mainid
	$mltidlist = getMainIDlist( $tid ); 
	//listid 
	$list_tid = getListID( $tid ); 
	$arrintExtraTids = array();
	
	foreach( $arrintTids as $value ) {
		$arrintExtraTids += getRelationalNewsTids( $value );
	}

	$arrintTids = array_merge( array( $tid ), $arrintExtraTids );

	$strSql = 'SELECT 
				    p.post_id as nid,
				    p.headline as title,
				    CONCAT( "http://liveindia.live/public/products/image/", p.thumb_image ) as large_image,
				    category_id as tid,
				    p.created as created
				FROM
				    post p join post_category pc ON (p.post_id = pc.post_id)
				WHERE
					category_id IN ( ' . implode ( ',', $arrintTids ) . ')
				ORDER BY
					p.created DESC';

	$res = $obj->select( $strSql );
	
	$data['total_rec'] = count( $res );
	$data['data'] = $res;

	return $data;
}
?>
